# PHP中的引用传值问题

##foreach中的引用传值问题

```php
$arr = [2,3,7];
foreach($arr as &$v){
    $v *= 10;
}
foreach ($arr as $v) {
    $v *= 10;
}
$arr = ?	//预期$arr = [20,30,70],实际$arr = [20, 30, 3000]
```

详细的执行过程

```php
$arr = [2,3,7];
//第一次foreach
foreach ($arr as &$v) {
    $v *= 10;
}
//此时$arr = [20,30,70],$v = 70即 $v = &$arr[2]

//第二次foreach
foreach ($arr as $k => $v) {
    $v *= 10;
}
//$k = 0: $v=&$arr[2]=200，此时 $arr = [20, 30, 200] 
//$k = 1: $v=&$arr[2]=300，此时 $arr = [20, 30, 300] 
//$k = 2: 将$arr[2]的值赋给$v，$v *= 10,导致$arr[2] = 3000
```

## PHP手册中对引用传值的说明

##### 引用是什么&&不是什么

```php
1、比喻：引用可以看成一个人有两个名字。
2、引用不是指针
另：在PHP中变量名和变量内容是不一样的
```

##### 引用做什么&&引用传递

```php
1、具有引用的数组被拷贝，其值不会解除引用。对于数组传值给函数亦是如此
2、对于一个车对象，赋值的时候是引用赋值，想要复制一个对象，使用clone
3、通常我们只对变量进行引用传值。[部分表达式是可以的，参见手册]
```

##### 引用取消

```
1、unset($a);
```



